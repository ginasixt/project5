{% extends "capstone/layout.html" %}

{% block body %} 
{% load static %}





<div class="container mt-5">
    <div class="card p-3 mt-2">
        <div class="untereBox">
           
        <h1>Calender {{ request.user.username }}!</h1>


    <div id="calendar">
        <div class="month">
            <ul>
                <li class="prev" onclick="changeMonth(-1)">&#10094;</li>
                <li class="next" onclick="changeMonth(1)">&#10095;</li>
                <li id="monthYear">August<br><span style="font-size:18px">2022</span></li>
            </ul>
        </div>

        <ul class="weekdays">
            <li>Mo</li>
            <li>Tu</li>
            <li>We</li>
            <li>Th</li>
            <li>Fr</li>
            <li>Sa</li>
            <li>Su</li>
        </ul>

        <ul class="days" id="days">
            <!-- Dates will be dynamically generated here -->
        </ul>
    </div>

    <script>
        const monthNames = ["January", "February", "March", "April", "May", "June",
                            "July", "August", "September", "October", "November", "December"];

        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();

        function generateCalendar(month, year) {
            const daysContainer = document.getElementById('days');
            daysContainer.innerHTML = '';

            const firstDay = new Date(year, month).getDay(); // Day of week of 1st of the month
            const daysInMonth = 32 - new Date(year, month, 32).getDate(); // Number of days in the month

            const monthYear = document.getElementById('monthYear');
            monthYear.innerHTML = `${monthNames[month]}<br><span style="font-size:18px">${year}</span>`;

            let date = 1;
            for (let i = 0; i < 6; i++) { // 6 rows (weeks) in calendar
                for (let j = 0; j < 7; j++) { // 7 days in a week
                    if (i === 0 && j < firstDay - 1) {
                        daysContainer.innerHTML += '<li></li>'; // Empty cell
                    } else if (date > daysInMonth) {
                        break;
                    } else {
                        daysContainer.innerHTML += `<li>${date}</li>`;
                        date++;
                    }
                }
            }
        }

        function changeMonth(step) {
            currentMonth += step;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            } else if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            generateCalendar(currentMonth, currentYear);
        }

        // Initial generation of the calendar
        generateCalendar(currentMonth, currentYear);
    </script>



            {% comment %} <div id="calendar">
                <div class="month">
                    <ul>
                        <li class="prev">&#10094;</li>
                        <li class="next">&#10095;</li>
                        <li>August<br><span style="font-size:18px">2022</span></li>
                    </ul>
                </div>

                <ul class="weekdays">
                    <li>Mo</li>
                    <li>Tu</li>
                    <li>We</li>
                    <li>Th</li>
                    <li>Fr</li>
                    <li>Sa</li>
                    <li>Su</li>
                </ul>

                <ul class="days">
                    <li>1</li>
                    <!-- ... -->
                    <li>31</li>
                </ul>
            </div> {% endcomment %}




        </div>
    </div>
</div> 









{% endblock %}